---
title: 杭州视言一面（3.11）
date: 2025-03-11 15:05:28
cover: https://gcore.jsdelivr.net/gh/WQhuanm/Img_repo_1@main/img/202503112302186.png
---

> 第二次参加面试，这次是线上，面试官很专业，提的很多问题都值得记录复盘一下。记录一下回答得不是很好的地方~


### 拷打项目
1. 热度排行榜信息怎么存取，怎么计算热度的

### 拷打八股
#### MySQL
1. 介绍一下Mysql 事务acid的特性

1. 为什么要定期重建索引，在线重建索引怎么处理
    + 索引可能因为删除，或者页分裂等原因，导致数据页有空洞，重建索引的过程会创建一个新的索引，把数据按顺序插入，这样页面的利用率最高，也就是索引更紧凑、更省空间。
    + MySQL支持Online DDL操作，可以在不锁定表的情况下重建索引。可在业务低峰期执行：ALTER TABLE table_name ENGINE=InnoDB; 

1. SQL慢查询如何优化

1. 覆盖索引一定不会回表吗
+ 索引覆盖也会回表的情况（不是完全避免回表）
    1. 使用了覆盖索引但超过了最大索引长度，或是字符串只取了前缀作为索引
    1. 因为事务需要获取版本号
        + 有聚簇索引有事务版本号
        + 二级索引的每一页都有PAGE_MAX_TRX_ID（页内数据最后一次被修改的事务id最大值）。
        + 如果当前页的PAGE_MAX_TRX_ID在Read View（事务快照）之前则无需回表，否则二级索引必须回表找到聚簇索引才能找到read view之前的版本号

#### Spring
1. spring依赖注入的方式,为什么推荐构造器注入

1. AOP的使用场景，要注意什么问题

1. spring的事务有什么坑，事务什么时候失效

#### else
1. threadlocal不remove就一定会内存泄漏吗
有自动清理机制

1. springcloud，Dubbo，MQ了解吗 (x)


